import{a as L}from"./chunk-BIGH6345.js";import{a as W}from"./chunk-ZXAUGKJU.js";import{a as V}from"./chunk-QWNPTBTY.js";import{f as M}from"./chunk-WC5MS3VU.js";import{i as N,k as T,m as D}from"./chunk-2XSTSFZT.js";import{$a as l,Ab as E,Ea as p,Ja as k,S,Wa as h,X as _,Xa as P,Y as C,Ya as s,Za as r,_a as o,ab as w,db as g,eb as d,kb as a,lb as x,mb as u,nb as F,ra as y,rb as b,ta as n,ya as I}from"./chunk-DS7ZCNFW.js";var z=(i,e,t)=>({"in-stock":i,"low-stock":e,"out-of-stock":t}),A=(i,e,t)=>({"add-btn":i,"remove-btn":e,disabled:t});function H(i,e){if(i&1){let t=w();r(0,"div",1)(1,"div",2),a(2),o(),r(3,"a",3),l(4,"img",4),o(),r(5,"h3"),a(6),o(),r(7,"p",5),a(8),o(),r(9,"p",6)(10,"strong"),a(11),o()(),r(12,"button",7),g("click",function(){let f=_(t).ngIf,v=d();return C(v.toggleCart(f))}),a(13),o(),r(14,"button",8),g("click",function(f){let v=_(t).ngIf,R=d();return C(R.wishtlistt.addToWishlist(f,v))}),a(15,"\u2764\uFE0F"),o()()}if(i&2){let t=e.ngIf,c=d();n(),s("ngClass",b(12,z,t.availabilityStatus==="In Stock",t.availabilityStatus==="Low in Stock",t.availabilityStatus==="Not in Stock")),n(),u(" ",t.availabilityStatus," "),n(),s("routerLink","/products/"+t.id),n(),s("alt",F(t.title))("src",t.thumbnail,y),n(2),x(t.title),n(2),x(t.description),n(3),u("$",t.price.toFixed(2)),n(),s("disabled",t.availabilityStatus==="Not in Stock")("ngClass",b(16,A,!c.cartService.isInCart(t.id),c.cartService.isInCart(t.id),t.availabilityStatus==="Not in Stock")),n(),u(" ",c.cartService.isInCart(t.id)?"Remove from Cart":"Add to Cart"," ")}}var m=class i{_product=E();cartService=S(W);wishtlistt=S(V);toggleCart(e){if(e.availabilityStatus==="Not in Stock")return;this.cartService.isInCart(e.id)?this.cartService.removeFromCart(e.id):this.cartService.addToCart(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=p({type:i,selectors:[["app-product-section"]],inputs:{_product:[1,"_product"]},decls:1,vars:1,consts:[["class","product-card",4,"ngIf"],[1,"product-card"],[1,"stock-label",3,"ngClass"],[3,"routerLink"],[3,"src","alt"],[1,"description"],[1,"price"],[3,"click","disabled","ngClass"],[3,"click"]],template:function(t,c){t&1&&k(0,H,16,20,"div",0),t&2&&s("ngIf",c._product())},dependencies:[D,N,T,M],encapsulation:2})};var U=(i,e)=>e.id;function Y(i,e){if(i&1&&l(0,"app-product-section",1),i&2){let t=e.$implicit;s("_product",t)}}var O=class i{constructor(e){this.fetchProducts=e}products=[];ngOnInit(){this.fetchProducts.getProducts().subscribe({next:e=>{this.products=e.products},error:e=>console.log("error",e)})}static \u0275fac=function(t){return new(t||i)(I(L))};static \u0275cmp=p({type:i,selectors:[["app-wrapper-section"]],decls:5,vars:0,consts:[[1,"product-list"],[3,"_product"]],template:function(t,c){t&1&&(r(0,"h1"),a(1,"MY STORE"),o(),r(2,"section",0),h(3,Y,1,1,"app-product-section",1,U),o()),t&2&&(n(3),P(c.products))},dependencies:[m],encapsulation:2})};export{O as WrapperSection};
