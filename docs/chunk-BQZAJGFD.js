import{a as B}from"./chunk-HX3LTQFW.js";import{a as $}from"./chunk-QQMNRYBR.js";import{f as F,i as P}from"./chunk-EMSCSQA7.js";import{Ca as h,Fb as k,Gb as T,Ha as f,Hb as w,Ib as V,S as I,Sa as p,Ta as e,Ua as i,Va as E,Wa as g,X as s,Xa as _,Y as u,Ya as m,cb as n,db as C,eb as x,kb as v,lb as S,pb as y,qa as b,sa as c}from"./chunk-2UJNR4Y7.js";function D(a,r){a&1&&(e(0,"div",3)(1,"p"),n(2,"Your cart is empty."),i(),e(3,"a",4),n(4,"Continue Shopping"),i()())}function Q(a,r){if(a&1&&(e(0,"span",26),n(1),i()),a&2){let t=m().$implicit;c(),x(" $",t.price.toFixed(2)," ")}}function M(a,r){if(a&1){let t=g();e(0,"tr")(1,"td",13),E(2,"img",14),e(3,"div",15)(4,"h4"),n(5),i(),e(6,"p",16),n(7),i()()(),e(8,"td",17),f(9,Q,2,1,"span",18),e(10,"span",19),n(11),v(12,"discount"),v(13,"number"),i()(),e(14,"td",20)(15,"div",21)(16,"button",22),_("click",function(){let o=s(t).$implicit,d=m(2);return u(d.updateQuantity(o.id,o.quantity-1))}),n(17,"\u2212"),i(),e(18,"span"),n(19),i(),e(20,"button",22),_("click",function(){let o=s(t).$implicit,d=m(2);return u(d.updateQuantity(o.id,o.quantity+1))}),n(21,"+"),i()()(),e(22,"td",23),n(23),v(24,"number"),i(),e(25,"td",24)(26,"button",25),_("click",function(){let o=s(t).$implicit,d=m(2);return u(d.removeItem(o.id))}),n(27,"Remove"),i()()()}if(a&2){let t=r.$implicit,l=m(2);c(2),p("src",t.thumbnail,b)("alt",t.title),c(3),C(t.title),c(2),C(t.description),c(2),p("ngIf",t.discountPercentage>0),c(2),x(" $",S(13,11,S(12,8,t.price,t.discountPercentage),"1.2-2")," "),c(8),C(t.quantity),c(4),x(" $",S(24,14,l.getItemTotal(t),"1.2-2")," ")}}function N(a,r){if(a&1){let t=g();e(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th"),n(5,"Product"),i(),e(6,"th"),n(7,"Price"),i(),e(8,"th"),n(9,"Quantity"),i(),e(10,"th"),n(11,"Total"),i(),e(12,"th"),n(13,"Action"),i()()(),e(14,"tbody"),f(15,M,28,17,"tr",7),i()(),e(16,"div",8)(17,"div",9)(18,"h3"),n(19),v(20,"number"),i()(),e(21,"div",10)(22,"button",11),_("click",function(){s(t);let o=m();return u(o.clearCart())}),n(23,"Clear Cart"),i(),e(24,"button",12),n(25,"Checkout"),i()()()()}if(a&2){let t=m();c(15),p("ngForOf",t.cartItems())("ngForTrackBy",t.trackByProductId),c(4),x("Total: $",S(20,3,t.cartTotal(),"1.2-2"))}}var q=class a{cartService=I($);cartItems=y(()=>this.cartService.cart());cartTotal=y(()=>this.cartService.getCartTotal());updateQuantity(r,t){this.cartService.updateQuantity(r,t)}removeItem(r){this.cartService.removeFromCart(r)}clearCart(){this.cartService.clearCart()}getItemTotal(r){return r.price*r.quantity}trackByProductId(r,t){return t.id}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=h({type:a,selectors:[["app-cart-section"]],decls:5,vars:2,consts:[[1,"cart"],["class","empty-cart",4,"ngIf"],["class","cart-content",4,"ngIf"],[1,"empty-cart"],["routerLink","/",1,"continue-shopping"],[1,"cart-content"],[1,"cart-table"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cart-summary"],[1,"cart-total"],[1,"cart-actions"],[1,"clear-cart-btn",3,"click"],[1,"checkout-btn"],[1,"product-info"],[1,"product-image",3,"src","alt"],[1,"product-details"],[1,"product-description"],[1,"price"],["class","original-price",4,"ngIf"],[1,"discounted-price"],[1,"quantity"],[1,"quantity-controls"],[3,"click"],[1,"total"],[1,"action"],[1,"remove-btn",3,"click"],[1,"original-price"]],template:function(t,l){t&1&&(e(0,"section",0)(1,"h2"),n(2,"Shopping Cart"),i(),f(3,D,5,0,"div",1)(4,N,26,6,"div",2),i()),t&2&&(c(3),p("ngIf",l.cartItems().length===0),c(),p("ngIf",l.cartItems().length>0))},dependencies:[V,k,T,w,P,F,B],encapsulation:2})};export{q as CartSection};
