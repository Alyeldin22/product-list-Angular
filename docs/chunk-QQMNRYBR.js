import{N as d,a as c,b as s,da as u}from"./chunk-2UJNR4Y7.js";var m=class o{_cart=u([]);get cart(){return this._cart}addToCart(r,t=1){let e=this._cart(),a=e.findIndex(n=>n.id===r.id);if(a>-1){let n=s(c({},e[a]),{quantity:e[a].quantity+t}),i=[...e];i[a]=n,this._cart.set(i)}else this._cart.set([...e,s(c({},r),{quantity:t})])}removeFromCart(r){let t=this._cart();this._cart.set(t.filter(e=>e.id!==r))}updateQuantity(r,t){let e=this._cart(),a=e.findIndex(n=>n.id===r);if(a>-1)if(t<=0)this.removeFromCart(r);else{let n=s(c({},e[a]),{quantity:t}),i=[...e];i[a]=n,this._cart.set(i)}}clearCart(){this._cart.set([])}getCartTotal(){return this._cart().reduce((r,t)=>r+t.price*t.quantity,0)}isInCart(r){return this._cart().some(t=>t.id===r)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};
